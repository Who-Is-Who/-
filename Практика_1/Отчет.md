# Практическая работа № 1: Сбор логов
## Цель работы: 
- Создать 2 виртуальные машины на базе ОС Debian 12
- Обеспечить между ними сетевой обмен
- Включить на 1й из ВМ передачу логов по протоколу rsyslog на 2ю ВМ
- Установить и настроить получение логов на сервер с использованием Loki
- Установить и настроить получение логов на сервер с использованием Loki (signoz.io)

## Ход работы
1) Первым делом нам необходимо создать две виртуальыне машины для этого воспользуемся приложением *Parallels Desktop*. Нажимаем *Файл -> Создать*.


   В открывшимся в окне выбираем необходимую нам операционную систему и производим установку


   После создания клонируем данную вирутальную машину

2) По стандарту свзять между машинами существует сразу.   


   Для проверки того что между нашими двумя виртуальysми машинами есть связь открываем *Терминал* на первой машине, прописываем ``` ip a ``` и видим что первой машине присвоился адрес *10.211.55.27*


На второй машине пишем *ping 10.211.55.27* и видим что между ними есть свзять

3) Первым дело установим rsyslog на обеих машинах  
```
sudo apt-get install rsyslog
```

Затем включаем  
```
sudo systemctl start rsyslog

sudo systemctl enable rsyslog
```

Настроим сначала 2-ю ВМ (Она будет получат логи):

Открываем конфигурационный файл `rsyslog`:
   ```
   sudo nano /etc/rsyslog.conf
   ```
Убираем # напротив протоколов передачи( мы будем использовать как UDP так и TCP). Сохраняем и перезапускаем
```
sudo systemctl restart rsyslog
```

Теперь натсроим 1-ю ВМ (Она будет отправитель логи):  

Открываем конфигурационный файл rsyslog и добавляем следующуи строки, чтобы отправлять логи на вторую ВМ для UDP и TCP соответственно
```
*.* @10.211.55.26:514
*.* @@10.211.55.26:514
```



Перезагружаем и проверяем работоспособность  



